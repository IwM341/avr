\hypertarget{sleep__modes_8h_source}{}\doxysection{sleep\+\_\+modes.\+h}
\label{sleep__modes_8h_source}\index{D:/Tmp/avr/avr\_tools/avr\_tools/include/sleep\_modes.h@{D:/Tmp/avr/avr\_tools/avr\_tools/include/sleep\_modes.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ sleep\_modes.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ Created:\ 09.04.2023\ 11:41:44}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ Author:\ MainUser}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ */}\ }
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#ifndef\ SLEEP\_MODES\_H\_}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#define\ SLEEP\_MODES\_H\_}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}guard.h"{}}}
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }aos\{}
\DoxyCodeLine{00014\ \ \ \ \ }
\DoxyCodeLine{00018\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structaos_1_1sleep__block}{sleep\_block}}\{}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{structaos_1_1sleep__block_ac3c40320f7e1064971a6d3d4cdd3b448}{smode}}:uint8\_t\{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structaos_1_1sleep__block_ac3c40320f7e1064971a6d3d4cdd3b448a1217e3e1c04184e3a3338c3654d9e9d6}{mode0}}\ =\ 0,}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \ \ \ \ mode1\ =\ 1,}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structaos_1_1sleep__block_ac3c40320f7e1064971a6d3d4cdd3b448a607607c41817349b1d80d93cb50258ae}{mode2}}\ =\ 2\ }
\DoxyCodeLine{00023\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00024\ \ \ \ \ \ \ \ \ uint8\_t\ \_num\_of\_processes[3];}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structaos_1_1____guard}{\_\_guard}}\ g;}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <smode\ mode>}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structaos_1_1sleep__block_adf61e80a3c061a87866aab7d2ad95ba5}{block}}()\{\_num\_of\_processes[mode]++;\}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <smode\ mode>}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structaos_1_1sleep__block_aa23d49c00dec37b582042cb692ccab15}{unblock}}()\{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_num\_of\_processes[mode])}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_num\_of\_processes[mode]-\/-\/;}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structaos_1_1sleep__block_adf61e80a3c061a87866aab7d2ad95ba5}{block}}(\mbox{\hyperlink{structaos_1_1sleep__block_ac3c40320f7e1064971a6d3d4cdd3b448}{smode}}\ mode)\{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ g.lock();}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \_num\_of\_processes[mode]++;}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ g.unlock();}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structaos_1_1sleep__block_aa23d49c00dec37b582042cb692ccab15}{unblock}}(\mbox{\hyperlink{structaos_1_1sleep__block_ac3c40320f7e1064971a6d3d4cdd3b448}{smode}}\ mode)\{}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ \ \ \ \ g.lock();}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(\_num\_of\_processes[mode])}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ \ \ \ \ \_num\_of\_processes[mode]-\/-\/;}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ \ \ \ \ g.unlock();}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <smode\ mode>}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structaos_1_1sleep__block_a0d718209b6acea29332acd99f1063913}{is\_enabled}}()\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ !\_num\_of\_processes[mode];\}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structaos_1_1sleep__block_a612e4a81f23859610af4ebf739927632}{is\_enabled}}(\mbox{\hyperlink{structaos_1_1sleep__block_ac3c40320f7e1064971a6d3d4cdd3b448}{smode}}\ mode)\textcolor{keyword}{const}\{\textcolor{keywordflow}{return}\ !\_num\_of\_processes[mode];\}}
\DoxyCodeLine{00064\ \ \ \ \ \};}
\DoxyCodeLine{00065\ \};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SLEEP\_MODES\_H\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
